# Сервис уведомлений для windy.app

## О проекте
Наш проект – сервис полного цикла для «умной» отправки пуш-уведомлений для аналитиков и маркетологов windy.app

Сервис позволяет отсылать уведомления типа wind_alert, chat, meme_alert из backend windy.app, логируя результат. В дальнейшем можно будет тестировать разные типы данных в рассылках маркетинговых и транзакционных пуш-уведомлений.

Windy.app – глобальное мобильное приложение с 18 млн установок. Показывает погоду занимающимся активными видами спорта (яхтсмены, кайтеры, серферы, рыбаки...)

Все данные хранятся в MySQL catchthewind_dev, статистика - в ClickHouse etl.

Для запуска сервиса:
- Включить впн для подключения к базам данных винди.
- docker-compose up --build

## Сервисы проекта:
1. Async Admin API FastAPI:
- endpoint для отправки пушей из бэкенда винди
- docker-compose up -d admin_api
- Swagger http://0.0.0.0:80/api/openapi


2. Async ETL Push logs:
- получение статуса отправки уведомления из OpenSignal API и сохранение в ClickHouse.
- кронтаб celery: запуск раз в час 

3. Async Worker
- получение списка рассылки из RabbitMQ
- docker-compose up --build worker

4. Async Distributor 
- получение пачки подготовленных к рассылке уведомлений и отправить в очередь (ClickHouse)
- отправка рассылок в RabbitMQ
- кронтаб celery: запуск раз в 5минут
